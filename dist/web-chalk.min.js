!function(t,s){"undefined"!=typeof define?define(s):"object"==typeof module&&module.exports?module.exports=s():this.webChalk=s()}(0,function(){function t(s,e,o){if("string"!=typeof s)throw new Error("The first argument must be a string");if("object"!=typeof e)throw new Error("The second argument must be a object");return this instanceof t?this.hasChildObject(e)?(this.str=s,this.css=e||{},this.openTag=/</,this.classTag=/^([a-zA-Z]+?)>([\s\S]*)/,this.closeTag=/\/([a-zA-Z]+?)>([\s\S]*)/,this.result="",this.logArr=[],this.dafaultCss=this.formatCss(o),void this.init()):void console.log("%c"+s,this.formatCss(e)):new t(s,e,o)}return t.prototype={init:function(){this.css=this.handleCss(this.css),this.handleTpl()},output:function(){this.logArr.unshift(this.result),console.log.apply(null,this.logArr)},formatCss:function(t){t=t||{};var s="",e=this;return e.each(t,function(t,o){s+=e.formatHumpName(t)+":"+o+";"}),s},handleCss:function(t){var s=this,e={};return s.each(t,function(t,o){e[t]=s.formatCss(o)}),e},handleTpl:function(){var t=this,s=t.str.split(t.openTag);if(1===s.length)return void console.log("%c"+t.str,t.dafaultCss);var e=[],o=[];t.each(s,function(s){var n,i=s.match(t.classTag),r=s.match(t.closeTag),a="";if(i)a=i[1],e.push(a),n=i[2],t.result+="%c"+n,t.logArr.push(t.css[a]||t.dafaultCss);else if(r)if(a=r[1],o.push(a||t.dafaultCss),n=r[2],t.result+="%c"+n,""!=n){var u=t.findClass(e,o);t.logArr.push(t.css[u]||t.dafaultCss)}else t.logArr.push(t.dafaultCss);else t.result+="%c"+s,t.logArr.push(t.dafaultCss)}),this.output()},findClass:function(t,s){for(var e=t.slice(),o=s.slice(),n=e.pop(),i=o.indexOf(n);n&&i>-1;)n=e.pop(),o.splice(i,1),i=o.indexOf(n);return n},formatHumpName:function(t){return t.replace(/([a-z])([A-Z])/,function(t,s,e){return s+"-"+e.toLowerCase()})},each:function(t,s){if("object"==typeof t)return t instanceof Array?void t.forEach(function(t,e,o){s(t,e,o)}):void Object.keys(t).forEach(function(e){s(e,t[e],t)})},hasChildObject:function(t){var s;return this.each(t,function(t,e){"object"==typeof e&&(s=!0)}),s}},t});